{"version":3,"sources":["webpack:///static/js/app.891cde4d9f9115170079.js","webpack:///./src/components/Post.vue","webpack:///./src/components/PostEditor.vue","webpack:///./src/components/PostMap.vue?5a56","webpack:///./src/components/PostEditor.vue?9d4c","webpack:///./src/components/Post.vue?0948","webpack:///./src/App.vue?1887","webpack:///./src/components/PostMap.vue?a23b","webpack:///./src/database.js","webpack:///./src/main.js","webpack:///./config/firebase.js","webpack:///./src/App.vue?fc6a","webpack:///./src/util/geohash.js","webpack:///App.vue","webpack:///Post.vue","webpack:///PostEditor.vue","webpack:///PostMap.vue"],"names":["webpackJsonp","104","module","exports","105","136","__webpack_require__","Component","137","138","injectStyle","ssrContext","139","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","action","directives","name","rawName","value","expression","type","maxlength","domProps","on","input","$event","target","composing","title","_e","rows","details","click","post","_s","postButtonText","$emit","staticRenderFns","140","141","id","142","locate","togglePostEditor","marker","newPostMarker","cancel","showPostEditor","close","showPost","36","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1__main__","__WEBPACK_IMPORTED_MODULE_2__util_geohash__","createPost","position","regionId","encode","lat","lng","timestamp","Date","now","regionRef","ref","newPostRef","push","a","resolve","reject","set","createdAt","then","catch","error","getPosts","newPostCallback","orderByChild","data","val","37","Object","defineProperty","d","database","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2_firebase__","__WEBPACK_IMPORTED_MODULE_2_firebase___default","__WEBPACK_IMPORTED_MODULE_3__config_firebase__","__WEBPACK_IMPORTED_MODULE_3__config_firebase___default","initializeApp","config","productionTip","el","template","components","App","61","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","63","65","precision","minLat","maxLat","minLng","maxLng","result","geohash","bitValue","i","midpoint","charAt","66","__WEBPACK_IMPORTED_MODULE_0__components_PostMap__","__WEBPACK_IMPORTED_MODULE_0__components_PostMap___default","PostMap","67","props","68","__WEBPACK_IMPORTED_MODULE_0__database__","methods","_this","69","__WEBPACK_IMPORTED_MODULE_0__PostEditor__","__WEBPACK_IMPORTED_MODULE_0__PostEditor___default","__WEBPACK_IMPORTED_MODULE_1__Post__","__WEBPACK_IMPORTED_MODULE_1__Post___default","__WEBPACK_IMPORTED_MODULE_2__database__","PostEditor","Post","map","postMarkers","mounted","initMap","google","maps","Map","document","getElementById","center","zoom","zoomControl","zoomControlOptions","ControlPosition","RIGHT_TOP","mapTypeControl","scaleControl","streetViewControl","streetViewControlOptions","rotateControl","addListener","e","self","Marker","getCenter","draggable","animation","Animation","DROP","setPosition","navigator","geolocation","getCurrentPosition","pos","LatLng","coords","latitude","longitude","setCenter","setMap","latlng"],"mappings":"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","file":"static/js/app.891cde4d9f9115170079.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 104:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(20)(\n  /* script */\n  __webpack_require__(67),\n  /* template */\n  __webpack_require__(140),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(20)(\n  /* script */\n  __webpack_require__(68),\n  /* template */\n  __webpack_require__(139),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(105)\n}\nvar Component = __webpack_require__(20)(\n  /* script */\n  __webpack_require__(69),\n  /* template */\n  __webpack_require__(142),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mdl-card mdl-shadow--2dp\"\n  }, [_c('div', {\n    staticClass: \"mdl-card__supporting-text\"\n  }, [_c('h2', {\n    staticClass: \"mdl-card__title-text\"\n  }, [_vm._v(\"New Post\")]), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"action\": \"#\"\n    }\n  }, [_c('div', {\n    staticClass: \"mdl-textfield mdl-js-textfield\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.title),\n      expression: \"title\"\n    }],\n    staticClass: \"mdl-textfield__input\",\n    attrs: {\n      \"type\": \"text\",\n      \"maxlength\": \"40\"\n    },\n    domProps: {\n      \"value\": (_vm.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.title) ? _c('label', {\n    staticClass: \"mdl-textfield__label\"\n  }, [_vm._v(\"Title\")]) : _vm._e()])]), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"action\": \"#\"\n    }\n  }, [_c('div', {\n    staticClass: \"mdl-textfield mdl-js-textfield\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.details),\n      expression: \"details\"\n    }],\n    staticClass: \"mdl-textfield__input\",\n    attrs: {\n      \"type\": \"text\",\n      \"rows\": \"14\",\n      \"maxlength\": \"400\"\n    },\n    domProps: {\n      \"value\": (_vm.details)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.details = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.details) ? _c('label', {\n    staticClass: \"mdl-textfield__label\"\n  }, [_vm._v(\"Details...\")]) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mdl-card__actions mdl-card--border\"\n  }, [_c('a', {\n    staticClass: \"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\",\n    on: {\n      \"click\": _vm.post\n    }\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.postButtonText) + \"\\n    \")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\",\n    on: {\n      \"click\": function($event) {\n        _vm.$emit('cancel')\n      }\n    }\n  }, [_vm._v(\"\\n      Cancel\\n    \")])])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mdl-card mdl-shadow--2dp\"\n  }, [_c('div', {\n    staticClass: \"mdl-card__title\"\n  }, [_c('h2', {\n    staticClass: \"mdl-card__title-text\"\n  }, [_vm._v(_vm._s(_vm.post.title))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mdl-card__supporting-text\"\n  }, [_vm._v(_vm._s(_vm.post.details))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mdl-card__actions mdl-card--border\"\n  }, [_c('a', {\n    staticClass: \"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\",\n    on: {\n      \"click\": function($event) {\n        _vm.$emit('close')\n      }\n    }\n  }, [_vm._v(\"\\n      Close\\n    \")])])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"h-100\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('main', {\n    staticClass: \"h-100\"\n  }, [_c('post-map')], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"h-100\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"fab\"\n  }, [_c('button', {\n    staticClass: \" mdl-button mdl-js-button mdl-button--fab mdl-button--colored\",\n    on: {\n      \"click\": _vm.locate\n    }\n  }, [_c('i', {\n    staticClass: \"material-icons\"\n  }, [_vm._v(\"gps_fixed\")])]), _vm._v(\" \"), _c('br'), _c('br'), _vm._v(\" \"), _c('button', {\n    staticClass: \" mdl-button mdl-js-button mdl-button--fab mdl-button--colored\",\n    on: {\n      \"click\": _vm.togglePostEditor\n    }\n  }, [_c('i', {\n    staticClass: \"material-icons\"\n  }, [_vm._v(\"add\")])])]), _vm._v(\" \"), (_vm.showPostEditor) ? _c('post-editor', {\n    staticClass: \"post\",\n    attrs: {\n      \"marker\": _vm.newPostMarker\n    },\n    on: {\n      \"cancel\": function($event) {\n        _vm.showPostEditor = false\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showPost) ? _c('post', {\n    staticClass: \"post\",\n    attrs: {\n      \"post\": _vm.post\n    },\n    on: {\n      \"close\": function($event) {\n        _vm.showPost = false\n      }\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__main__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_geohash__ = __webpack_require__(65);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  createPost: function createPost(title, details, position) {\n    var regionId = __WEBPACK_IMPORTED_MODULE_2__util_geohash__[\"a\" /* default */].encode(position.lat(), position.lng(), 4);\n    var timestamp = Date.now();\n    var regionRef = __WEBPACK_IMPORTED_MODULE_1__main__[\"database\"].ref('regions-posts/' + regionId);\n    var newPostRef = regionRef.push();\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n      newPostRef.set({\n        createdAt: timestamp,\n        lat: position.lat(),\n        lng: position.lng(),\n        title: title,\n        details: details\n      }).then(function (value) {\n        resolve(value);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getPosts: function getPosts(position, newPostCallback) {\n    var regionId = __WEBPACK_IMPORTED_MODULE_2__util_geohash__[\"a\" /* default */].encode(position.lat(), position.lng(), 4);\n    var regionRef = __WEBPACK_IMPORTED_MODULE_1__main__[\"database\"].ref('regions-posts/' + regionId).orderByChild('createdAt');\n    regionRef.on('child_added', function (data) {\n      newPostCallback(data.val());\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"database\", function() { return database; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_firebase__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_firebase___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_firebase__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_firebase__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_firebase___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__config_firebase__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_firebase___default.a.initializeApp(__WEBPACK_IMPORTED_MODULE_3__config_firebase___default.a);\nvar database = __WEBPACK_IMPORTED_MODULE_2_firebase___default.a.database();\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  apiKey: 'AIzaSyDhV0SbEq0mxTxLR6ydAiw2jfjWPqQzPH0',\n  authDomain: 'props-dd456.firebaseapp.com',\n  databaseURL: 'https://props-dd456.firebaseio.com',\n  projectId: 'props-dd456',\n  storageBucket: '',\n  messagingSenderId: '757120167992'\n}\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(104)\n}\nvar Component = __webpack_require__(20)(\n  /* script */\n  __webpack_require__(66),\n  /* template */\n  __webpack_require__(141),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar base32 = '0123456789bcdefghjkmnpqrstuvwxyz';\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  encode: function encode(lat, lng, precision) {\n    var minLat = -90;\n    var maxLat = 90;\n    var minLng = -180;\n    var maxLng = 180;\n    var result = 0;\n    var geohash = '';\n    var bitValue = 16;\n    for (var i = 0; i < precision * 5; i++) {\n      if (i % 2 === 0) {\n        var midpoint = (minLng + maxLng) / 2;\n        if (lng < midpoint) {\n          maxLng = midpoint;\n        } else {\n          result += bitValue;\n          minLng = midpoint;\n        }\n      } else {\n        var _midpoint = (minLat + maxLat) / 2;\n        if (lat < _midpoint) {\n          maxLat = _midpoint;\n        } else {\n          result += bitValue;\n          minLat = _midpoint;\n        }\n      }\n      if (bitValue === 1) {\n        geohash += base32.charAt(result);\n        result = 0;\n        bitValue = 16;\n      } else {\n        bitValue /= 2;\n      }\n    }\n    return geohash;\n  }\n});\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_PostMap__ = __webpack_require__(138);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_PostMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_PostMap__);\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: {\n    PostMap: __WEBPACK_IMPORTED_MODULE_0__components_PostMap___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'post',\n  props: ['post']\n});\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__database__ = __webpack_require__(36);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'post-editor',\n  props: ['marker'],\n  data: function data() {\n    return {\n      title: '',\n      details: '',\n      postButtonText: 'post'\n    };\n  },\n  methods: {\n    post: function post() {\n      var _this = this;\n\n      __WEBPACK_IMPORTED_MODULE_0__database__[\"a\" /* default */].createPost(this.title, this.details, this.marker.position).then(function (value) {\n        _this.$emit('cancel');\n      }).catch(function (error) {\n        if (error) _this.postButtonText = 'retry';\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PostEditor__ = __webpack_require__(137);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PostEditor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__PostEditor__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Post__ = __webpack_require__(136);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Post___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__Post__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__database__ = __webpack_require__(36);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'post-map',\n  components: {\n    PostEditor: __WEBPACK_IMPORTED_MODULE_0__PostEditor___default.a,\n    Post: __WEBPACK_IMPORTED_MODULE_1__Post___default.a\n  },\n  data: function data() {\n    return {\n      showPostEditor: false,\n      map: null,\n      newPostMarker: null,\n      postMarkers: [],\n      showPost: false,\n      post: { title: '', details: '' }\n    };\n  },\n  mounted: function mounted() {\n    this.initMap();\n  },\n\n  methods: {\n    initMap: function initMap() {\n      /* global google */\n      /* eslint no-undef: \"error\" */\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        center: { lat: 46.2, lng: 6.1667 },\n        zoom: 11,\n        zoomControl: true,\n        zoomControlOptions: {\n          position: google.maps.ControlPosition.RIGHT_TOP\n        },\n        mapTypeControl: true,\n        scaleControl: true,\n        streetViewControl: true,\n        streetViewControlOptions: {\n          position: google.maps.ControlPosition.RIGHT_TOP\n        },\n        rotateControl: true\n      });\n      this.map.addListener('drag', function (e) {});\n      this.map.addListener('dragend', function (e) {});\n      var self = this;\n      this.map.addListener('bounds_changed', function (e) {\n        self.getPosts();\n      });\n\n      this.locate();\n    },\n    togglePostEditor: function togglePostEditor() {\n      this.showPost = false;\n      this.showPostEditor = true;\n      if (this.newPostMarker === null) {\n        this.newPostMarker = new google.maps.Marker({\n          position: this.map.getCenter(),\n          draggable: true,\n          animation: google.maps.Animation.DROP,\n          map: this.map\n        });\n        var self = this;\n        this.newPostMarker.addListener('click', function () {\n          self.showPostEditor = true;\n        });\n      } else {\n        this.newPostMarker.setPosition(this.map.getCenter());\n      }\n    },\n    locate: function locate() {\n      if (navigator.geolocation) {\n        var self = this;\n        navigator.geolocation.getCurrentPosition(function (position) {\n          var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n          self.map.setCenter(pos);\n        });\n      }\n    },\n    getPosts: function getPosts() {\n      var _this = this;\n\n      this.postMarkers.map(function (marker) {\n        marker.setMap(null);\n        return marker;\n      });\n      this.postMarkers = [];\n      var self = this;\n      __WEBPACK_IMPORTED_MODULE_2__database__[\"a\" /* default */].getPosts(this.map.getCenter(), function (post) {\n        var latlng = new google.maps.LatLng(post.lat, post.lng);\n        var marker = new google.maps.Marker({\n          position: latlng,\n          map: _this.map\n        });\n        marker.addListener('click', function () {\n          self.showPostEditor = false;\n          self.post.title = post.title;\n          self.post.details = post.details;\n          self.showPost = true;\n        });\n        self.postMarkers.push(marker);\n      });\n    }\n  }\n});\n\n/***/ })\n\n},[37]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.891cde4d9f9115170079.js","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Post.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2800ec9e\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Post.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Post.vue\n// module id = 136\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PostEditor.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03b8dc04\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PostEditor.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PostEditor.vue\n// module id = 137\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc33efca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PostMap.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PostMap.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc33efca\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PostMap.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PostMap.vue\n// module id = 138\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mdl-card mdl-shadow--2dp\"\n  }, [_c('div', {\n    staticClass: \"mdl-card__supporting-text\"\n  }, [_c('h2', {\n    staticClass: \"mdl-card__title-text\"\n  }, [_vm._v(\"New Post\")]), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"action\": \"#\"\n    }\n  }, [_c('div', {\n    staticClass: \"mdl-textfield mdl-js-textfield\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.title),\n      expression: \"title\"\n    }],\n    staticClass: \"mdl-textfield__input\",\n    attrs: {\n      \"type\": \"text\",\n      \"maxlength\": \"40\"\n    },\n    domProps: {\n      \"value\": (_vm.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.title) ? _c('label', {\n    staticClass: \"mdl-textfield__label\"\n  }, [_vm._v(\"Title\")]) : _vm._e()])]), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"action\": \"#\"\n    }\n  }, [_c('div', {\n    staticClass: \"mdl-textfield mdl-js-textfield\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.details),\n      expression: \"details\"\n    }],\n    staticClass: \"mdl-textfield__input\",\n    attrs: {\n      \"type\": \"text\",\n      \"rows\": \"14\",\n      \"maxlength\": \"400\"\n    },\n    domProps: {\n      \"value\": (_vm.details)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.details = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.details) ? _c('label', {\n    staticClass: \"mdl-textfield__label\"\n  }, [_vm._v(\"Details...\")]) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mdl-card__actions mdl-card--border\"\n  }, [_c('a', {\n    staticClass: \"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\",\n    on: {\n      \"click\": _vm.post\n    }\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.postButtonText) + \"\\n    \")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\",\n    on: {\n      \"click\": function($event) {\n        _vm.$emit('cancel')\n      }\n    }\n  }, [_vm._v(\"\\n      Cancel\\n    \")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-03b8dc04\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PostEditor.vue\n// module id = 139\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mdl-card mdl-shadow--2dp\"\n  }, [_c('div', {\n    staticClass: \"mdl-card__title\"\n  }, [_c('h2', {\n    staticClass: \"mdl-card__title-text\"\n  }, [_vm._v(_vm._s(_vm.post.title))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mdl-card__supporting-text\"\n  }, [_vm._v(_vm._s(_vm.post.details))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mdl-card__actions mdl-card--border\"\n  }, [_c('a', {\n    staticClass: \"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\",\n    on: {\n      \"click\": function($event) {\n        _vm.$emit('close')\n      }\n    }\n  }, [_vm._v(\"\\n      Close\\n    \")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2800ec9e\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Post.vue\n// module id = 140\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"h-100\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('main', {\n    staticClass: \"h-100\"\n  }, [_c('post-map')], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8be380ce\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 141\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"h-100\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"fab\"\n  }, [_c('button', {\n    staticClass: \" mdl-button mdl-js-button mdl-button--fab mdl-button--colored\",\n    on: {\n      \"click\": _vm.locate\n    }\n  }, [_c('i', {\n    staticClass: \"material-icons\"\n  }, [_vm._v(\"gps_fixed\")])]), _vm._v(\" \"), _c('br'), _c('br'), _vm._v(\" \"), _c('button', {\n    staticClass: \" mdl-button mdl-js-button mdl-button--fab mdl-button--colored\",\n    on: {\n      \"click\": _vm.togglePostEditor\n    }\n  }, [_c('i', {\n    staticClass: \"material-icons\"\n  }, [_vm._v(\"add\")])])]), _vm._v(\" \"), (_vm.showPostEditor) ? _c('post-editor', {\n    staticClass: \"post\",\n    attrs: {\n      \"marker\": _vm.newPostMarker\n    },\n    on: {\n      \"cancel\": function($event) {\n        _vm.showPostEditor = false\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showPost) ? _c('post', {\n    staticClass: \"post\",\n    attrs: {\n      \"post\": _vm.post\n    },\n    on: {\n      \"close\": function($event) {\n        _vm.showPost = false\n      }\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-bc33efca\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PostMap.vue\n// module id = 142\n// module chunks = 1","import { database } from './main'\nimport geohash from './util/geohash'\n\nexport default {\n  createPost (title, details, position) {\n    const regionId = geohash.encode(position.lat(), position.lng(), 4)\n    const timestamp = Date.now()\n    const regionRef = database.ref('regions-posts/' + regionId)\n    const newPostRef = regionRef.push()\n    return new Promise((resolve, reject) => {\n      newPostRef\n          .set({\n            createdAt: timestamp,\n            lat: position.lat(),\n            lng: position.lng(),\n            title: title,\n            details: details\n          })\n          .then((value) => {\n            resolve(value)\n          })\n          .catch((error) => {\n            reject(error)\n          })\n    })\n  },\n  getPosts (position, newPostCallback) {\n    const regionId = geohash.encode(position.lat(), position.lng(), 4)\n    const regionRef = database.ref('regions-posts/' + regionId)\n        .orderByChild('createdAt')\n    regionRef.on('child_added', function (data) {\n      newPostCallback(data.val())\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport firebase from 'firebase'\nimport firebaseConfig from '../config/firebase'\n\nfirebase.initializeApp(firebaseConfig)\nexport const database = firebase.database()\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\n  apiKey: 'AIzaSyDhV0SbEq0mxTxLR6ydAiw2jfjWPqQzPH0',\n  authDomain: 'props-dd456.firebaseapp.com',\n  databaseURL: 'https://props-dd456.firebaseio.com',\n  projectId: 'props-dd456',\n  storageBucket: '',\n  messagingSenderId: '757120167992'\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/firebase.js\n// module id = 61\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8be380ce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8be380ce\\\",\\\"hasScoped\\\":false}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 63\n// module chunks = 1","const base32 = '0123456789bcdefghjkmnpqrstuvwxyz'\n\nexport default {\n  encode (lat, lng, precision) {\n    let minLat = -90\n    let maxLat = 90\n    let minLng = -180\n    let maxLng = 180\n    let result = 0\n    let geohash = ''\n    let bitValue = 16\n    for (let i = 0; i < precision * 5; i++) {\n      if (i % 2 === 0) {\n        const midpoint = (minLng + maxLng) / 2\n        if (lng < midpoint) {\n          maxLng = midpoint\n        } else {\n          result += bitValue\n          minLng = midpoint\n        }\n      } else {\n        const midpoint = (minLat + maxLat) / 2\n        if (lat < midpoint) {\n          maxLat = midpoint\n        } else {\n          result += bitValue\n          minLat = midpoint\n        }\n      }\n      if (bitValue === 1) {\n        geohash += base32.charAt(result)\n        result = 0\n        bitValue = 16\n      } else {\n        bitValue /= 2\n      }\n    }\n    return geohash\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/geohash.js","<template>\n  <div id=\"app\" class=\"h-100\">\n    <main class=\"h-100\">\n      <post-map></post-map>\n    </main>\n  </div>\n</template>\n\n<script>\nimport PostMap from './components/PostMap'\n\nexport default {\n  name: 'app',\n  components: {\n    PostMap\n  }\n}\n</script>\n\n<style>\nhtml, body {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.h-100 {\n  height: 100%;\n}\n\n.mdl-card {\n  min-height: 0px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?59fd9faf","<template>\n  <div class=\"mdl-card mdl-shadow--2dp\">\n    <div class=\"mdl-card__title\">\n      <h2 class=\"mdl-card__title-text\">{{post.title}}</h2>\n    </div>\n    <div class=\"mdl-card__supporting-text\">{{post.details}}</div>\n    <div class=\"mdl-card__actions mdl-card--border\">\n      <a class=\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\"\n        @click=\"$emit('close')\">\n        Close\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'post',\n  props: ['post']\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Post.vue?078ab095","<template>\n  <div class=\"mdl-card mdl-shadow--2dp\">\n    <div class=\"mdl-card__supporting-text\">\n      <h2 class=\"mdl-card__title-text\">New Post</h2>\n      <form action=\"#\">\n        <div class=\"mdl-textfield mdl-js-textfield\">\n          <input class=\"mdl-textfield__input\"\n            type=\"text\"\n            maxlength=\"40\"\n            v-model=\"title\">\n          <label class=\"mdl-textfield__label\"\n            v-if=\"!title\">Title</label>\n        </div>\n      </form>\n      <form action=\"#\">\n        <div class=\"mdl-textfield mdl-js-textfield\">\n          <textarea class=\"mdl-textfield__input\"\n            type=\"text\"\n            rows= \"14\"\n            maxlength=\"400\"\n            v-model=\"details\"></textarea>\n          <label class=\"mdl-textfield__label\" v-if=\"!details\">Details...</label>\n        </div>\n      </form>\n    </div>\n    <div class=\"mdl-card__actions mdl-card--border\">\n      <a class=\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\"\n        @click=\"post\">\n        {{postButtonText}}\n      </a>\n      <a class=\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\"\n        @click=\"$emit('cancel')\">\n        Cancel\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport database from '../database'\n\nexport default {\n  name: 'post-editor',\n  props: ['marker'],\n  data: function () {\n    return {\n      title: '',\n      details: '',\n      postButtonText: 'post'\n    }\n  },\n  methods: {\n    post () {\n      database\n          .createPost(this.title, this.details, this.marker.position)\n          .then((value) => {\n            this.$emit('cancel')\n          })\n          .catch((error) => {\n            if (error) this.postButtonText = 'retry'\n          })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// PostEditor.vue?1d523149","<template>\n  <section class=\"h-100\">\n    <div id=\"map\"></div>\n    <div class=\"fab\">\n      <button @click=\"locate\"\n        class=\" mdl-button mdl-js-button mdl-button--fab mdl-button--colored\">\n        <i class=\"material-icons\">gps_fixed</i>\n      </button>\n      <br><br>\n      <button @click=\"togglePostEditor\"\n        class=\" mdl-button mdl-js-button mdl-button--fab mdl-button--colored\">\n        <i class=\"material-icons\">add</i>\n      </button>\n    </div>\n    <post-editor class=\"post\"\n      v-if=\"showPostEditor\"\n      @cancel=\"showPostEditor = false\"\n      :marker=\"newPostMarker\">\n    </post-editor>\n    <post class=\"post\"\n      v-if=\"showPost\"\n      @close=\"showPost = false\"\n      :post=\"post\">\n    </post>\n  </section>\n</template>\n\n<script>\nimport PostEditor from './PostEditor'\nimport Post from './Post'\nimport database from '../database'\n\nexport default {\n  name: 'post-map',\n  components: {\n    PostEditor,\n    Post\n  },\n  data: function () {\n    return {\n      showPostEditor: false,\n      map: null,\n      newPostMarker: null,\n      postMarkers: [],\n      showPost: false,\n      post: { title: '', details: '' }\n    }\n  },\n  mounted () {\n    this.initMap()\n  },\n  methods: {\n    initMap () {\n      /* global google */\n      /* eslint no-undef: \"error\" */\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        center: {lat: 46.2, lng: 6.1667},\n        zoom: 11,\n        zoomControl: true,\n        zoomControlOptions: {\n          position: google.maps.ControlPosition.RIGHT_TOP\n        },\n        mapTypeControl: true,\n        scaleControl: true,\n        streetViewControl: true,\n        streetViewControlOptions: {\n          position: google.maps.ControlPosition.RIGHT_TOP\n        },\n        rotateControl: true\n      })\n      this.map.addListener('drag', function (e) {})\n      this.map.addListener('dragend', function (e) {})\n      const self = this\n      this.map.addListener('bounds_changed', function (e) { self.getPosts() })\n\n      this.locate()\n    },\n    togglePostEditor () {\n      this.showPost = false\n      this.showPostEditor = true\n      if (this.newPostMarker === null) {\n        this.newPostMarker = new google.maps.Marker({\n          position: this.map.getCenter(),\n          draggable: true,\n          animation: google.maps.Animation.DROP,\n          map: this.map\n        })\n        const self = this\n        this.newPostMarker.addListener('click', function () {\n          self.showPostEditor = true\n        })\n      } else {\n        this.newPostMarker.setPosition(this.map.getCenter())\n      }\n    },\n    locate () {\n      if (navigator.geolocation) {\n        const self = this\n        navigator.geolocation.getCurrentPosition(function (position) {\n          const pos = new google.maps.LatLng(position.coords.latitude,\n            position.coords.longitude)\n          self.map.setCenter(pos)\n        })\n      }\n    },\n    getPosts () {\n      this.postMarkers.map((marker) => {\n        marker.setMap(null)\n        return marker\n      })\n      this.postMarkers = []\n      const self = this\n      database.getPosts(this.map.getCenter(),\n          (post) => {\n            const latlng = new google.maps.LatLng(post.lat, post.lng)\n            const marker = new google.maps.Marker({\n              position: latlng,\n              map: this.map\n            })\n            marker.addListener('click', function () {\n              self.showPostEditor = false\n              self.post.title = post.title\n              self.post.details = post.details\n              self.showPost = true\n            })\n            self.postMarkers.push(marker)\n          })\n    }\n  }\n}\n</script>\n\n<style>\n#map {\n  height: 100%;\n}\n\n.fab {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n}\n@media only screen and (min-width: 600px) {\n  .fab {\n    position: absolute;\n    bottom: 24px;\n    right: 24px;\n  }\n}\n\n.post {\n  position: absolute;\n  bottom: 24px;\n  left: 0;\n  right: 0;\n  margin: auto\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PostMap.vue?0b743d42"],"sourceRoot":""}